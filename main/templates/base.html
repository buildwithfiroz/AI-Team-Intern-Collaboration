<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Dynamic Review Analytics{% endblock %}</title>
  <meta name="description" content="AI-powered review scraping & summarization with a chat-based dashboard.">

  <!--  Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Custom Css link -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <!-- Alpine.js -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <!-- Flowbite JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.1/flowbite.min.js"></script>

</head>

<body
  class="bg-slate-50 dark:bg-slate-950 text-slate-800 dark:text-slate-200 font-sans transition-colors duration-300 bg-grid-pattern">

  <!-- Header-->
  {% block header %}
  <header
    class="sticky top-0 z-40 flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8 backdrop-blur-sm bg-white/80 dark:bg-slate-950/80 border-b border-slate-200 dark:border-slate-800">
    <div class="flex items-center justify-between">
      {% block menubar %}
      <i class="fa fa-bars text-xl mt-2 mr-[0.8rem] cursor-pointer dark:text-white" onclick="addRemoveAside()"></i>
      {% endblock %}
      &nbsp;
      <svg class="h-10 w-10 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
      </svg>
      &nbsp;
      <h1 class="text-xl font-bold text-slate-900 dark:text-white">Dynamic Review Analytics</h1>
    </div>
    <div class="flex items-center space-x-4">
      <button id="theme-toggle" aria-label="Toggle theme"
        class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition">
        <svg id="theme-icon" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"></svg>
      </button>

      <!-- login page -->
      {% block loginbtn %}
      <a href="{{ url_for('login.login') }}"
        class="hidden sm:inline-block px-5 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all">
        Log In
      </a>
      {% endblock %}
    </div>
  </header>
  {% endblock %}


  <!-- Sidebar -->
  {% block sidebar %}
  <aside id="sidebar"
    class="hidden fixed inset-y-0 left-0 z-30 w-64 bg-white dark:bg-slate-800 shadow-xl flex flex-col transition-transform duration-300 ease-in-out -translate-x-full md:translate-x-0">

    <!-- Navigation -->
    <nav class="flex-1 px-3 py-4 mt-[4rem] space-y-1 overflow-y-auto">
      <a href="{{ url_for('dashboard.dashboard')}}" class="nav-link group flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium 
                text-slate-700 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-indigo-900  
                active:bg-brand-100 dark:active:bg-brand-900/60 active:text-brand-700 dark:active:text-brand-300 
                transition-colors" aria-current="page">
        <i class="fas fa-tachometer-alt w-5 text-center text-indigo-600"></i>
        <span>Dashboard</span>
      </a>

      <a href="{{ url_for('input_url.input_url')}}" class="nav-link group flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium 
                text-slate-700 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-indigo-900 
                transition-colors">
        <i class="fas fa-link w-5 text-center text-indigo-600"></i>
        <span>Insert URL for Analysis</span>
      </a>

      <a href="{{ url_for('chat.chat')}}" class="nav-link group flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium 
                text-slate-700 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-indigo-900  
                transition-colors">
        <i class="fas fa-comments w-5 text-center text-indigo-600"></i>
        <span>Chat with AI</span>
      </a>
    </nav>

    <!-- Footer for aside -->
    <div class="px-3 py-4 border-t border-slate-200 dark:border-slate-700">
      <a href="{{ url_for('logout_bp.logout')}}" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium text-rose-600 
                hover:bg-rose-50 dark:hover:bg-rose-900/40 transition-colors">
        <i class="fas fa-sign-out-alt w-5 text-center"></i>
        <span>Logout</span>
      </a>
    </div>
  </aside>
  {% endblock %}

  <main>
    {% block content %}{% endblock %}
  </main>

  {% block script %}
  <script src="{{ url_for('static', filename='script/script.js') }}"></script>
  {% endblock %}

</body>

</html>